import logging
from typing import List

from app.finders.cards_finder import BankCardsFinder

logger = logging.getLogger(__name__)

input_text = """
Euthyrox N 175, 150, 88, 112, 200,150, 88, 112, 200, 50, 75. Letrox 75, 150.  Є
💳 5375 2352 1101 1885 
sdsaffe: +38 (067) 299-10-54, +38 (073) 299-10-54
🌠🌆🏙  dqggt (ddd/ee.):+38050 9000 127 /  +38063 6357 634
asda, 27 (ffgg), 066 926 50 97, 068 297 01 18, 061 787 94 75
9. et "asdsafd", st.aasdasf 3, as-ww 9:00-14:00, 0987355330
☎0 800 503 111, 044 465 33 44;
asd s 09:00 to 12:00 and a 16:00 to 17:00
5375💗4115💗0529💗4921
💚51 6 8 74 51 06 4 1 2 080💚
asd: 098 043 7787 і 067 973 8102
27.04, 30.04, 04.05, 07.05… (ff, ss
5354●6630●0321●5288
4141,6556,8889,9989
Daa +380 (99) 957 25 18  
123456789 fgg  
38 (050) 279-38-02 rrf,
fg 0 (99) 956 07 45
asdasd 6—7 ff + asfdf.📞📞📞.0936028078, 0674765653 ..
1234 1234 1234 1234
1234123412341234
/1234123412341234'
4323  3870  1142  4192
4323  3870  1142   4192
asd. 0677233117 0737233117
0000000000000000
asd0000-0000-0000-0000asf
a. 0000 0000 0000 0000 
0000000000000000 sd. 
00000000 00000000asd 
!!!0000 00000000 0000 
!!0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 asd 
0-0-0-0-0-0-0-0-0-0-0-0-0-0-0-0asdas
00000000000000123456 789012
000000000000000012345
asdfggg 06:50-15:30 і 09:50-18:30) – 1
"""


def _expected_cards() -> List[str]:
    return [
        "5375\xa02352\xa01101\xa01885",
        "5375💗4115💗0529💗4921",
        "51 6 8 74 51 06 4 1 2 080",
        "5354●6630●0321●5288",
        "4141,6556,8889,9989",
        "1234 1234 1234 1234",
        "1234123412341234",
        "1234123412341234",
        "4323  3870  1142  4192",
        "4323  3870  1142   4192",
        "0000000000000000",
        "0000-0000-0000-0000",
        "0000 0000 0000 0000",
        "0000000000000000",
        "00000000 00000000",
        "0000 00000000 0000",
        "0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0",
        "0-0-0-0-0-0-0-0-0-0-0-0-0-0-0-0",
    ]


def test_find_bank_card():
    """Expected result could be checked online https://regexr.com/."""
    finder = BankCardsFinder()
    found_cards = finder.find(input_text)

    assert _expected_cards() == found_cards
